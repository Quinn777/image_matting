# 数字图像处理-抠图功能实现

- 主要功能代码放在src文件夹中
- 输入数据放在data文件夹中
- 输出数据放在output文件夹中
- 通过main.py运行



### 任务

针对高分辨率白底图，对白底图中物品进行精细化高分辨率分割，要求如下:

1. 输出分割 Mask 仅为物品，不包含因打光造成的物品阴影、背景灰尘、背景颜色不均等问 题。
2. 输出 Mask 分辨率与原图相同，要求物品边缘清晰干净，不能有锯齿、模糊、残缺等问题。
3. 针对完全透明商品部件(如透明镜片)或非完全透明商品部件(如墨镜镜片)，应视为商品。 
4. 商品不区分具体类别，可能为瓶子、盒子、眼镜、化妆品等各种类别商品置于白底上进行 拍摄，算法应自动区分前景商品和背景白底。



### 数据

一组高分辨率白底图片

<img src="http://xiangkun-img.oss-cn-shenzhen.aliyuncs.com/20210718173711.png" alt="image-20210718173711864" style="zoom:50%;" />



### 难点

1. 保持分辨率不变，可能不同图片的分辨率不同
2. 生成的mask需要去掉物品阴影
3. 对完全透明物体，需要分辨出透过物体的背景和真实背景



### 思路

1. 自然成像下（如阴影）图片的rgb值趋近于相同，使用这种规则对阴影部分进行去除，生成背景掩膜

2. 掩膜中存在大量白色噪点，使用中值滤波去除掩膜噪点
3. 使用掩膜去除背景，获取最终图像
4. 建立gui图形界面 (java)，调用抠图算法 (python)



### 使用

#### 安装依赖

```
pip3 install -r requirements.txt
```

#### 执行

```python
python3 main.py
```



### 效果图

<img src="http://xiangkun-img.oss-cn-shenzhen.aliyuncs.com/20210817174500.png" alt="image-20210817174500486" style="zoom:50%;" />

四张图片依次为：

1. 去除自然成像下背景的掩膜
2. 去除噪点
3. 生成抠出图片
4. 更改图片背景

